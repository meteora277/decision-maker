<!DOCTYPE html>
<html lang="en">

<head>
  <title>Decision Maker</title>

  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
  <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
  <link rel="stylesheet" href="/styles/main.css" type="text/css" />
  <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Pacifico&display=swap" rel="stylesheet">
  <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
  <script type="text/javascript" src="/scripts/app.js"></script>
</head>

<body>
  <%- include('partials/_header') %>
    </div>
    <section>
      <form action="/poll" method="POST">
        <div class='enterEmail'>
          <label for='enter-email'></label>
          <input type="email" name="email" placeholder="Enter email adress" id='enter-email'></textarea>
          <div class="submitEmail">
          <button class="subButton" type="submit">Create Poll</button>

          </div>
          <div id="options-container">

          </div>
          <br>
          <button id="new-option">Add another option</button>
          <input type="submit" value="Create Poll">
      </form>
    </section>

    <script>

      $(document).ready(() => {

        const insertOption = function (optionsCount) {
          $('#options-container').append(`
          <input type="text" name="title${optionsCount}" class="form-control" placeholder="Title">
          <input type="text" name="description${optionsCount}" class="form-control" placeholder="description">
          <br>
          `
          )
        }
        let optionsCount = 0;

        //render 2 instances of options on page load, assuming you need to pick between 2 options in a decision maker app
        for (let i = 0; i < 2; i++) {
          insertOption(optionsCount)
          optionsCount +=1
        }
        $('#new-option').on('click', (event) => {
          event.preventDefault()
          insertOption(optionsCount)
          optionsCount += 1
        })
      })


    </script>
</body>

</html>
